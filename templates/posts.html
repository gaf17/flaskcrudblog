{% extends 'base.html' %}

{%  block head %} 
<title>Posts</title>
{% endblock %}

{%  block body %} 
<br>
<div>
<h1 style = 'display:inline'>All Posts</h1>
<a style = 'display:inline' class = "btn btn-success float-right" href = "/posts/new"> + New Post </a>
</div>

<hr>
    {% if posts|length < 1 %}
        <h2>There are no posts. Be the spark!</h2>
    
    {% else %}
        {% for post in posts %}
        <br>
            <h2>{{ post.title }}</h2>

            {% if post.author %}
                <small>Posted By: {{ post.author }} on {{post.datePosted}}</small>

            {% else %}
            <small>Posted By: Unknown Author on {{post.datePosted}}</small>
            {% endif %}
            <br>
            <br>

            <p style = "white-space:pre-wrap">{{ post.content }}</p>
            <a class = "btn btn-danger" href = '/posts/delete/{{post.id}}'> Delete </a>
            <a class = "btn btn-primary" href = '/posts/edit/{{post.id}}'> Edit </a>
            <br>
            <hr>
        {% endfor %}
    {% endif %}

{% endblock %}